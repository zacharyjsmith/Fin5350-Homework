dim(c13_new)
subset(c13_new==1)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new)
subset(c13_new==1)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new)
subset(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new==1)
ecobuy
dim(ecobuy)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
count(c13_new, var==1 )
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
count(c13_new )
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
count(c13_new==0 )
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
count(c13_new==1 )
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
count(c13_newm, ecikbs==1 )
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0 ))
dim(c13_new)
dimI(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0 ))
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = (c13$ecolbs==0, 1, 0 ))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = if_else(c13$ecolbs==0, 1, 0 ))
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0 ))
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs<0, 0, 0 ))
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 0, 0))
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, c13$ecolbs==0)
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, c13$ecolbs==0, 1, 0)
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13, c13$ecolbs==0)
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13_new, c13$ecolbs==0)
dim(c13_new)
dim(c13new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13_new, c13_new==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
c13new <-mutate(c13_new, c13_new==0, 1, 0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0))
c130
deim(c130)
dim(c130)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0))
dim(c130)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0))
dim(c130)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==5, 1, 1))
dim(c130)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==0 ))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c130<-mutate(c13, ecobuy = ifelse(c13$ecolbs==0, 1, 0 ))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(dim(c13_new)==0)
count(dim(c13_new), c13$ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(dim(c13_new), c13$ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(dim(c13_new))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(dim(c13_new))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(dim(c13_new))
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
summary(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
summary(c13_new, ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new, ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new, c13$ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new, c13$ecolbs==0, 1)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new, c13==1)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(c13_new)
count(c13_new$ecolbs)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(c13_new$ecolbs==1)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(c13_new$ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
count(c13_new, ecolbs==0)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
dim(c13_new)
count(c13_new, ecolbs==0)
412/660
412/660*100
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hsize+educ+age, c13)
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hhsize+educ+age, c13)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hhsize+educ+age, c13)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(ecobuy~ecoprc+regprc+faminc+hhsize+educ+age, c13)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hhsize+educ+age, c13)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hhsize+educ+age, c13, c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(c13_new~ecoprc+regprc+faminc+hhsize+educ+age, c13_new)
c13_new <-mutate(c13, ecobuy = ifelse(c13$ecolbs>0 , 1, 0))
regc13 <- lm(ecobuy~ecoprc+regprc+faminc+hhsize+educ+age, c13_new)
stargazer(regc13, type="text")
stargazer(regc13, type="text", digits = 5)
linearHypothesis(regc13, c("faminc", "hhsize","educ", "age"))
library(wooldridge)
library(car)
library(stargazer)
library(effects)
library(wooldridge)
library(stargazer)
library(cars)
library(wooldridge)
library(stargazer)
library(car)
c1 <- sleep75
regc1 <- lm(sleep~male, c1)
c1 <- sleep75
regc1 <- lm(sleep~male, c1)
stargazer(regc1, type="text")
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
summary(lm(u_hat^2~male))
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
summary(lm(u_hat^2~male, c1))
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
summary(lm(u_hat^2~male, c1))
c1 <- sleep75
regc1 <- lm(sleep~totwrk+educ+age+I(age^2)+yngkid+male, c1)
u_hat <- resid(regc1)
c1u <-(lm(u_hat^2~male, c1))
stargazer(c1u, type="text")
B0 <- 189359.2
se0 <- 20546.36
b0/se0
b1 <- -28849.63
se1 <-27296.51
b1/se1
b0 <- 189359.2
se0 <- 20546.36
b0/se0
b1 <- -28849.63
se1 <-27296.51
b1/se1
c2reg <-(price~lotsize+sqrft+bdrms, c2)
c2 <- hprice1
c2reg <- (price~lotsize+sqrft+bdrms, c2)
c2reg <- (price~lotsize+sqrft+bdrms,c2)
c2reg <- (price~lotsize+sqrft+bdrms,c2)
c2reg <- lm(price~lotsize+sqrft+bdrms,c2)
coeftest(c2reg)
install.packages("lmtest")
c2 <- hprice1
library(lmtest)
c2reg <- lm(price~lotsize+sqrft+bdrms,c2)
coeftest(c2reg)
c2reg <- lm(price~lotsize+sqrft+bdrms,c2)
coeftest(c2reg, vcov=hccm(c2reg, type="hc0"))
c2reglog <- lm(log(price)~log(lotsize)+log(sqrft)+bdrms,c2)
coeftest(c2reglog, vcov=hccm(c2reglog, type="hc0"))
c4 <- vote1
regc2 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
reg2 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
stargazer(reg2, type="text")
reg2 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
#stargazer(reg2, type="text")
u_hat4 <- resid(reg4)
reg4 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
#stargazer(reg2, type="text")
u_hat4 <- resid(reg4)
stargazer(u_hat4, type="text")
reg4 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
#stargazer(reg2, type="text")
u_hat4 <- resid(reg4)
y_hat4 <- predict(reg4)
stargazer(lm(uhat_4^2~ y_hat4+ I(y_hat4^2)))
reg4 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
#stargazer(reg2, type="text")
u_hat4 <- resid(reg4)
y_hat4 <- predict(reg4)
stargazer(lm(u_hat4^2~ y_hat4+ I(y_hat4^2)))
reg4 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
#stargazer(reg2, type="text")
u_hat4 <- resid(reg4)
y_hat4 <- predict(reg4)
stargazer(lm(u_hat4^2~ y_hat4+ I(y_hat4^2)), type = "text")
reg4 <-lm(voteA~prtystrA+democA+log(expendA)+log(expendB), c4)
stargazer(reg4, type="text")
u_hat4 <- resid(reg4)
y_hat4 <- predict(reg4)
stargazer(lm(u_hat4^2~ y_hat4+ I(y_hat4^2)), type = "text")
summary(lm(u_hat4^2~prtystrA+democA+log(expendA)+log(expendB), c4))
bptest(reg4)
summary(lm(u_hat4^2~ y_hat4+ I(y_hat4^2)))
bptest(reg4, ~y_hat4+I(y_hat4^2))
c10 <- 401ksubs
c10 <- 401ksubs
c10 <- 401ksubs
c10 <- 401ksubs
c10 <- 401KSUBS
c10 <- ksubs
c10 <- k401ksubs
reg10 <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, c10)
stargazer(reg10, type="text")
coeftest(reg10, vcov = hccm(reg10, type="hc0"))
reg10 <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, c10)
stargazer(reg10, type="text")
coeftest(reg10, vcov = hccm(reg10, type="hc0"), digits = 6)
reg10 <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, c10)
summary(reg10)
coeftest(reg10, vcov = hccm(reg10, type="hc0"))
reg10 <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, c10)
#stargazer(reg10, type="text")
u_hat10 <- resid(reg10)
y_hat10 <- predict(reg10)
summary(lm(u_hat10^2~ y_hat10+ I(y_hat10^2)))
summary(predict(reg10))
y_hat <- predict(reg10)
h_hat <- y_hat(1-y_hat)
y_hat <- predict(reg10)
h_hat <- y_hat(1-y_hat)
y_hat <- predict(reg10)
h_hat <- y_hat*(1-y_hat)
w <-1/h_hat
reg10_wls <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, c10)
summary(reg10_wls)
y_hat <- predict(reg10)
h_hat <- y_hat*(1-y_hat)
w <-1/h_hat
reg10_wls <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, weights = w, c10)
summary(reg10_wls)
stargazer(reg10, type="text")
y_hat <- predict(reg10)
h_hat <- y_hat*(1-y_hat)
w <-1/h_hat
reg10_wls <- lm(e401k~inc+I(inc^2)+age+I(age^2)+male, weights = w, c10)
summary(reg10_wls)
summary(reg10)
knitr::opts_chunk$set(include = FALSE)
library(wooldridge)
library(stargazer)
library(car)
HPY <- happiness
library(ggplot2)
library(ggpubr)
theme_set(theme_pubr())
restricted_happiness <- lm(vhappy~tvhours+prestige+educ+regattend+owngun, HPY)
stargazer(restricted_happiness, type="text")
vif(restricted_happiness)
u_hat <-resid(restricted_happiness)
y_hat <- predict(restricted_happiness)
summary(lm(u_hat^2~y_hat + I(y_hat^2)))
u_hat <-resid(unrestricted_happiness)
unrestricted_happiness <- lm(vhappy~tvhours+prestige+educ+regattend+mothfath16+occattend+owngun+divorce+gwbush00+babies+preteen+teens, HPY)
stargazer(unrestricted_happiness, type="text")
u_hat <-resid(unrestricted_happiness)
y_hat <- predict(unrestricted_happiness)
summary(lm(u_hat^2~y_hat + I(y_hat^2)))
knitr::opts_chunk$set(include = FALSE)
library(wooldridge)
library(stargazer)
library(car)
HPY <- happiness
library(ggplot2)
library(ggpubr)
library(lmtest)
theme_set(theme_pubr())
coeftest(unrestricted_happiness, vcof=hccm(unrestricted_happiness, type"hc0"))
coeftest(unrestricted_happiness, vcof=hccm(unrestricted_happiness, type="hc0"))
coeftest(restricted_happiness, vcof=hccm(restricted_happiness, type="hc0"))
summary(df)
table(df)
summary(df)
summary(df)
library(wooldridge)
library(stargazer)
library(car)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(corrgram)
library(lmtest)
theme_set(theme_pubr())
df <- mutate(happiness, Ishappy=ifelse((happy=="very happy"|happy=="pretty happy"),1,0))
df <- df[complete.cases(df[,c("prestige","divorce","educ","reg16","babies","preteen","teens","income","attend","happy","tvhours","mothfath16","black","female","blackfemale","occattend","regattend","unem10")]),]
df <- mutate(df,povertyline=ifelse(income=="$25000 or more",1,0))
df <- mutate(df,goestochurch=ifelse(attend=="never",1,0))
#df <- mutate(df,watchestv=ifelse(tvhours>=3,1,0))
df <- subset(select(df, c("Ishappy","prestige","divorce","educ","reg16","babies","preteen","teens","income","goestochurch","tvhours","mothfath16","black","female","blackfemale","unem10","povertyline")))
## Summary of Dataset
corrgram(df, order = TRUE, lower.panel = panel.shade, upper.panel = panel.pie, text.panel = panel.txt)
## Summary of Data {.hcenter .vcenter. .smaller}
```{r}
stargazer(df, type = "text")
```
## Unrestricted Model
options(scipen = 9)
unrestricted_happiness <- lm((Ishappy)~tvhours+prestige+educ+goestochurch+mothfath16+divorce+babies+preteen+teens+unem10+female+black+blackfemale+povertyline+reg16, df)
summary(unrestricted_happiness, type = "text")
$$Ishappy=\beta_0+\beta_1watchestv+\beta_2prestige+beta_3educ+\beta_4goestochurch+\beta_5mothfath16+\beta_6divorce+\beta_7babies+\beta_8preteen+\beta_9teens+\beta_10unem10+\beta_11female+\bet_12black+\beta_12blackfemale+\beta_13povertyline+beta_14reg16$$
## Restricted Model
restricted_happiness <- lm((Ishappy)~educ+goestochurch+unem10+povertyline+reg16, df)
summary(restricted_happiness, type="text")
## Muliple Linear Regression Model Assumption MLR.1
Linear in parameters
$$vhappy=0.062-.009tvhours+.002prestige+.010educ+0.94regattend+.044owngun$$
## Multiple Linear Regresssion Model Assumption MLR.2
Random Sampling
We assume that the data from Woodridge was gathered using random sampling
## Multiple Linear Regression Model Assumption MLR. 3
No perfect collinearity
-This assumption only rules out perfect collinearity between explanatory variables
- MLR.3 will fail if the number of observations is less than the number of parameters in the observation.
## Detecting Multicollinearity
Multicollinearity can be checked using Variance Inflation Factors
$$VIF_j=1/(1-R_j^2)$$
```{r}
vif(unrestricted_happiness)
```
## Multiple Linear Regerssion Model Assumption MLR. 4
Zero Conditional Mean
The error term cannot contain information about the explanatory variables.
$$E(u|x_1, x_2,...,x_k) = 0$$
## Efficienct of OLS
Under assumptions MLR.1 - MLR.4, OLS is unbiased. Since we assume the first 4 assumptions, we assume our model is unbiased.
## Multiple Linear Regression Model Asumption MLR.5
Homoskedasticity
The value of the explanatory variables cannot contain information about the variance of the unobserved factors
$$ Var(u|x_1, x_2,...,x_k) = \sigma^2$$
## Testing for Heteroskedasticity
```{r}
u_hat <-resid(unrestricted_happiness)
y_hat <- predict(unrestricted_happiness)
summary(lm(u_hat^2~y_hat + I(y_hat^2)))
```
## Remedies for Heteroskedasticity
1. Redefining the variables
2. Heteroskedasticity-corrected standard errors
3. Weighted Least Square Estimation
We are going to look at the robust standard errors since we do not know the funcional from and redifining the variables does not seem to be a better solution.
## Heteroskedasticity-Corrected Standard Errors Test
```{r}
coeftest(restricted_happiness, vcof=hccm(restricted_happiness, type="hc0"))
```
Our independent variables still prove to be sifnificant according to the HC test, so we will continue with our assumptions.
## Multiple Linear Regression Model Assumption MLR.6
Normality
It is assumed that the unoberved factors are normally distrubuted around the population regression function
## Testing Variables for Sifnificance using a t Test
We ran a t-test on the dummy variable own gun:
$$t-statistic= \hat\beta$$
## Ordinary Least Square Model
$$vhappy=0.062-.009tvhours+.002prestige+.010educ+0.94regattend+.044owngun$$
## Description of OLS
For every hour of television, there is a 0.9% decrease in the probability of being very happy. For every unit increase in prestige at work, there will be a 0.2% increase in the probability of being very happy. For every additional year of education, there will be a 1.0% increase in the probability of being very happy. Regularly attending church will result in a 94% probability of being very happy. Owning a gun will result in a 4.4% probability of being very happy.
## Hypothesis Test
```{r}
#H0 <- c("prestige=0")
#linearHypothesis(unrestricted_happiness, H0)
summary(unrestricted_happiness)$fstatistic
summary(restricted_happiness)$fstatistic
```
```{r}
1-pf(3.072467, 12, 691)
```
table(happiness$happy)
table(df$Ishappy)
u_hat <-resid(restricted_happiness)
y_hat <- predict(restricted_happiness)
summary(lm(u_hat^2~y_hat + I(y_hat^2)))
restricted_happiness <- lm(Ishappy~watchestv+educ+goestochurch+unem10+povertyline+reg16, df)
summary(restricted_happiness, type="text")
coeftest(restricted_happiness, vcof=hccm(restricted_happiness, type="hc0"))
## WLS
y_hat <- predict(restricted_happiness)
#y_hat <- subset(select(y-hat, c(0,1))
range(y_hat)
table(y_hat>1)
h_hat <- y_hat*(1-y_hat)
w <- 1/h_hat
restricted_happiness_WLS <- lm(Ishappy~educ+goestochurch+unem10+povertyline+reg16, df)
stargazer(restricted_happiness_WLS, type= "text")
MRM <- lm(price~ bdrms+lotsize+sqrft, hprice1 )
stargazer(MRM, type="text")
bptest(restricted_happiness)
uhat <- resid(restricted_happiness)
logu2 <- log(uhat^2)
reg_step2 <- lm(logu2~ watchestv+educ+goestochurch+unem10+povertyline+reg16, df)
ghat <- predict(reg_step2)
hhat <- exp(ghat)
w<- 1/hhat
MRM_FGLS <- lm(Ishappy~watchestv+educ+goestochurch+unem10+povertyline+reg16, weights = w, df)
stargazer(MRM, MRM_FGLS, type="text")
summary(happiness$owngun)
summary(df)
stargazer(df)
stargazer(df, type = "text")
summary(df$goestochurch)
table(df$goestochurch)
Summary(Happiness)
Summary(happiness)
Summary(happiness)
summary(happiness$happy)
summary(df$Ishappy)
Table(df$Ishappy)
Table(df$Ishappy)
stargazer(df$Ishappy)
summary(df$Ishappy)
table(df$Ishappy)
summary(happiness$income$
summary(happiness$income$
summary(happiness$income)
summary(happiness$income)
table(happiness$income)
table(df$income)
df <- mutate(df,povertyline=ifelse(income=="$25000 or more",1,0))
table(df$povertyline)
df <- df[complete.cases(df[,c("prestige","divorce","educ","reg16","babies","preteen","teens","income","attend","happy","tvhours","mothfath16","black","female","blackfemale","occattend","regattend","unem10")]),]
table(df)
df <- df[complete.cases(df[,c("prestige","divorce","educ","reg16","babies","preteen","teens","income","attend","happy","tvhours","mothfath16","black","female","blackfemale","occattend","regattend","unem10")]),]
table(df)
df <- subset(select(df, c("Ishappy","prestige","divorce","educ","reg16","babies","preteen","teens","income","goestochurch","tvhours","mothfath16","black","female","blackfemale","unem10","povertyline")))
table(df)
stargazer(df, type = "text")
corrgram(df, order = TRUE, lower.panel = panel.shade, upper.panel = panel.pie, text.panel = panel.txt)
install.packages("citr")
load("C:/Users/ZAK/Desktop/Arbitrage/5350/Papers/Conflationism.Rmd")
2+3
100*100
1**1
help
citr::
citr:::insert_citation()
citr:::insert_citation()
setwd("C:/Users/ZAK/Desktop/Fin5350-Homework/Paper")
install.packages("citr")
citr:::insert_citation()
citr:::insert_citation()
libary("citr")
